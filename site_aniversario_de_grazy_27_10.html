<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>AniversÃ¡rio de Grazy â€“ 27/10</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    :root { --grad-a: #ff9a9e; --grad-b: #fad0c4; --grad-c: #fbc2eb; --grad-d: #a6c1ee; }
    body { font-family: 'Inter', system-ui, -apple-system, Segoe UI, Roboto, sans-serif; }
    .bg-celebrate { background: radial-gradient(1200px 600px at 10% -10%, var(--grad-a), transparent),
                              radial-gradient(800px 600px at 110% 10%, var(--grad-b), transparent),
                              linear-gradient(120deg, var(--grad-c), var(--grad-d)); }
    /* Confetti */
    .confetti { position: fixed; pointer-events:none; inset:0; overflow:hidden; }
    .confetti span { position:absolute; width:10px; height:18px; opacity:.9; top:-20px; border-radius:2px; animation: fall 6s linear infinite; }
    @keyframes fall { to { transform: translateY(110vh) rotate(360deg); } }
  </style>
</head>
<body class="bg-celebrate min-h-screen text-slate-800">
  <div class="max-w-3xl mx-auto px-6 py-10">
    <header class="text-center mb-8">
      <h1 class="text-4xl md:text-5xl font-extrabold drop-shadow-sm">AniversÃ¡rio de Grazy ðŸŽ‚</h1>
      <p class="mt-2 text-lg">Data fixa: <span class="font-semibold">27/10</span></p>
    </header>

    <main class="space-y-8">
      <!-- Countdown Card -->
      <section class="bg-white/80 backdrop-blur rounded-2xl shadow p-6">
        <h2 class="text-2xl font-extrabold mb-1">PrÃ³xima contagem regressiva</h2>
        <p class="text-sm text-slate-500 mb-4">Tempo restante atÃ© 27/10 (prÃ³xima ocorrÃªncia)</p>
        <div id="countdown" class="grid grid-cols-2 sm:grid-cols-4 gap-3 text-center">
          <div class="rounded-xl bg-slate-50 p-4"><div id="dd" class="text-3xl font-extrabold">--</div><div class="text-sm">dias</div></div>
          <div class="rounded-xl bg-slate-50 p-4"><div id="hh" class="text-3xl font-extrabold">--</div><div class="text-sm">horas</div></div>
          <div class="rounded-xl bg-slate-50 p-4"><div id="mm" class="text-3xl font-extrabold">--</div><div class="text-sm">min</div></div>
          <div class="rounded-xl bg-slate-50 p-4"><div id="ss" class="text-3xl font-extrabold">--</div><div class="text-sm">seg</div></div>
        </div>
        <p id="statusToday" class="mt-4 text-center text-emerald-700 font-semibold hidden">Hoje Ã© 27/10 â€“ parabÃ©ns, Grazy! ðŸŽ‰</p>
      </section>

      <!-- Facts Card -->
      <section class="bg-white/80 backdrop-blur rounded-2xl shadow p-6">
        <h2 class="text-2xl font-extrabold mb-1">Resumo rÃ¡pido</h2>
        <p class="text-sm text-slate-500 mb-4">Dias relativos ao aniversÃ¡rio de 27/10</p>
        <div class="grid sm:grid-cols-2 gap-4">
          <div class="rounded-xl border border-slate-100 bg-white p-5">
            <div class="text-slate-500 text-sm">Faltam</div>
            <div class="mt-1 text-4xl font-extrabold" id="daysUntil">--</div>
            <div class="text-slate-500 text-sm">dias para o prÃ³ximo 27/10</div>
          </div>
          <div class="rounded-xl border border-slate-100 bg-white p-5">
            <div class="text-slate-500 text-sm">JÃ¡ se passaram</div>
            <div class="mt-1 text-4xl font-extrabold" id="daysSince">--</div>
            <div class="text-slate-500 text-sm">dias desde o 27/10 deste ano</div>
          </div>
        </div>
        <p id="datesLine" class="mt-4 text-sm text-slate-600"></p>
      </section>

      <!-- Decorative tip (optional photo) -->
      <section class="text-center text-slate-700">
        <p class="text-sm">Dica: coloque uma foto da Grazy nesta pasta e referencie abaixo (substitua <code>grazy.jpg</code>).</p>
        <img src="grazy.jpg" alt="Foto da Grazy" class="mx-auto mt-3 w-36 h-36 object-cover rounded-full shadow-lg ring-4 ring-white/60" onerror="this.style.display='none'" />
      </section>
    </main>
  </div>

  <div class="confetti" aria-hidden="true" id="confetti"></div>

  <script>
    // ===== Helpers =====
    const BDAY_DAY = 27;        // 27/10
    const BDAY_MONTH_IDX = 9;   // Outubro (0-based)

    function atStartOfDay(date) {
      return new Date(date.getFullYear(), date.getMonth(), date.getDate());
    }
    function daysDiffUTC(a, b) { // whole days between dates (a->b)
      const utcA = Date.UTC(a.getFullYear(), a.getMonth(), a.getDate());
      const utcB = Date.UTC(b.getFullYear(), b.getMonth(), b.getDate());
      const ms = utcB - utcA;
      return Math.floor(ms / 86400000); // 1000*60*60*24
    }
    function nextOccurrence(fromDate) {
      const y = fromDate.getFullYear();
      const thisYear = new Date(y, BDAY_MONTH_IDX, BDAY_DAY);
      return (fromDate <= thisYear) ? thisYear : new Date(y + 1, BDAY_MONTH_IDX, BDAY_DAY);
    }
    function prevOccurrence(fromDate) {
      const y = fromDate.getFullYear();
      const thisYear = new Date(y, BDAY_MONTH_IDX, BDAY_DAY);
      return (fromDate >= thisYear) ? thisYear : new Date(y - 1, BDAY_MONTH_IDX, BDAY_DAY);
    }

    // ===== Core logic =====
    const now = new Date();
    const today = atStartOfDay(now);

    const nextOcc = nextOccurrence(today);
    const prevOcc = prevOccurrence(today);

    const daysUntil = daysDiffUTC(today, nextOcc);
    const daysSince = daysDiffUTC(prevOcc, today);

    document.getElementById('daysUntil').textContent = daysUntil;
    document.getElementById('daysSince').textContent = daysSince;

    // Friendly dates line
    const fmt = (d) => d.toLocaleDateString('pt-BR', { year: 'numeric', month: '2-digit', day: '2-digit' });
    document.getElementById('datesLine').textContent = `Hoje: ${fmt(today)} Â· Ãšltimo 27/10: ${fmt(prevOcc)} Â· PrÃ³ximo 27/10: ${fmt(nextOcc)}`;

    // Show banner if today is birthday
    if (today.getTime() === atStartOfDay(new Date(today.getFullYear(), BDAY_MONTH_IDX, BDAY_DAY)).getTime()) {
      document.getElementById('statusToday').classList.remove('hidden');
    }

    // ===== Live countdown to next 27/10 00:00 local =====
    function tick() {
      const nowMs = Date.now();
      const targetMs = new Date(nextOcc.getFullYear(), nextOcc.getMonth(), nextOcc.getDate(), 0, 0, 0).getTime();
      let delta = Math.max(0, targetMs - nowMs);
      const d = Math.floor(delta / 86400000); delta -= d * 86400000;
      const h = Math.floor(delta / 3600000);  delta -= h * 3600000;
      const m = Math.floor(delta / 60000);     delta -= m * 60000;
      const s = Math.floor(delta / 1000);
      document.getElementById('dd').textContent = String(d);
      document.getElementById('hh').textContent = String(h).padStart(2,'0');
      document.getElementById('mm').textContent = String(m).padStart(2,'0');
      document.getElementById('ss').textContent = String(s).padStart(2,'0');
    }
    tick();
    setInterval(tick, 1000);

    // ===== Simple confetti (subtle) =====
    (function confettiRain(){
      const root = document.getElementById('confetti');
      const colors = ['#ffadad','#ffd6a5','#fdffb6','#caffbf','#9bf6ff','#bdb2ff','#ffc6ff'];
      for (let i=0;i<80;i++) {
        const p = document.createElement('span');
        const left = Math.random()*100; // vw
        const size = 8 + Math.random()*10;
        const delay = Math.random()*6;
        const rot = Math.random()*360;
        p.style.left = left + 'vw';
        p.style.background = colors[Math.floor(Math.random()*colors.length)];
        p.style.width = size+'px';
        p.style.height = (size*1.6)+'px';
        p.style.transform = `rotate(${rot}deg)`;
        p.style.animationDelay = `${delay}s`;
        root.appendChild(p);
      }
    })();
  </script>
</body>
</html>
